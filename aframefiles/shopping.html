<html>

<head>
      <meta name="apple-mobile-web-app-capable" content="yes">
      <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
</head>

<body>

      <a-scene background="color: #ECECEC" class="fullscreen" inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="">
            <a-assets>
                  <img id="table" src="table.png" />
                  <img id="bag" src="bag.png" />
                  <img id="laptop" src="toshiba.png" />
                  <img id="keyboard" src="keyboard1.jpg" />
                  <img id="xbox" src="xbox.jpg" />
                  <audio id="sound" crossorigin="anonymous" preload="auto" src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>
                  <img   id="skyimg" src="prague.jpg">
                  <img   id="ar" src="ar.jpg">
                   <img id="buy" src="buy.png">
            </a-assets>
         
            <a-sky src=""></a-sky>
            <a-curvedimage src="#laptop" id="laptop" radius="5.7" theta-length="60" height="2.6" scale-on-mouseenter="to: 5 5 5" rotation="0 0 0"
                  scale="1.2 1.2 1.2" material="" geometry="">
            </a-curvedimage>
            
             <a-sphere src="#buy" add-to-basket="laptop" radius="7" position="70 -20 25">
                  <a-animation attribute="rotation"
                  dur="10000"
                  fill="forwards"
                  to="0 360 0"
                  repeat="indefinite"></a-animation>

            </a-sphere>
               <a-sphere src="#ar" add-to-ar="laptop" id="laptop" radius="7" position="70 -35 25">
                  <a-animation attribute="rotation"
                  dur="10000"
                  fill="forwards"
                  to="0 360 0"
                  repeat="indefinite"></a-animation>

            </a-sphere>
        
            <!-- <a-entity id = "textVal"   geometry="primitive: sphere;"  
            material="color: black; opacity: 0.6">
            <a-text value="Hello, World!"  ></a-text>
            <a-animation attribute="rotation"
            dur="10000"
            fill="forwards"
            to="0 360 0"
            repeat="indefinite"></a-animation>
            </a-entity> -->

            <a-entity id = "textVal"  position="" scale="3 3 3" visible="false" geometry="primitive: plane;" material="color: black; opacity: 0.6"
                  text__appname="color: yellow; align: center; font: exo2bold; wrap-count: 12; z-offset: 0.01; baseline: bottom;
                value: Table" text__cityname="color: white;width:2; align: center; font: exo2semibold; wrap-count: 24; z-offset: 0.01; baseline: top;
                value: #Laptop">
                <a-animation attribute="rotation"
                dur="10000"
                fill="forwards"
                to="0 360 0"
                repeat="indefinite"></a-animation>
            
            </a-entity>
           
           
                

            <a-curvedimage src="#bag" id="bag" radius="5.7" theta-length="60" height="2.6" scale-on-mouseenter="to: 5 5 5" rotation="0 90 0" scale="1.2 1.2 1.2"
                  material="" geometry=""></a-curvedimage>
            
             <a-sphere src="#buy" add-to-basket="bag"  radius="1" position="0 -3 -8">
                  <a-animation attribute="rotation"
                  dur="10000"
                  fill="forwards"
                  to="0 360 0"
                  repeat="indefinite"></a-animation>

            </a-sphere>

            <a-curvedimage src="#table" id="table" radius="5.7" theta-length="60" height="2.6" scale-on-mouseenter="to: 5 5 5" rotation="0 180 0"
                  scale="1.2 1.2 1.2" material="" geometry=""></a-curvedimage>
            <a-sphere src="#buy" add-to-basket="table" radius="1" position="7 -4 -8">
                        <a-animation attribute="rotation"
                        dur="10000"
                        fill="forwards"
                        to="0 360 0"
                        repeat="indefinite"></a-animation>

                  </a-sphere>

            <a-curvedimage src="#keyboard" id="keyboard" radius="5.7" theta-length="60" height="2.6" scale-on-mouseenter="to: 5 5 5" rotation="0 270 0"
                  scale="1.2 1.2 1.2" material="" geometry=""></a-curvedimage>
                 
                   <a-sphere src="#buy" add-to-basket="keyboard" radius="1" position="-11 -3 2">
                        <a-animation attribute="rotation"
                        dur="10000"
                        fill="forwards"
                        to="0 360 0"
                        repeat="indefinite"></a-animation>

                  </a-sphere> 
            
           

      

            <!-- <a-curvedimage src="#xbox" radius="5.7" theta-length="60" height="2.6" 
                  rotation="0 -120 0" scale="1.2 1.2 1.2" material=""
                  geometry="">
                  <a-curvedimage src="#table" radius="5.7" theta-length="60" height="2.6" 
                  rotation="0 180 0" scale="1.2 1.2 1.2" material=""
                  geometry=""></a-curvedimage>
                  
                  <a-curvedimage src="#keyboard" radius="5.7" theta-length="60" height="2.6" 
                  rotation="0 270 0" scale="1.2 1.2 1.2" material=""
                  geometry=""></a-curvedimage>
            
            </a-curvedimage> -->
            <!-- <a-curvedimage id="mozvr-logo" geometry="" height="1" material="" opacity="0.5" position="0 2.6 -1" radius="5.7" rotation=""
                  src="#mozvr" theta-length="36">
            </a-curvedimage>

            <a-curvedimage id="bag" geometry="" height="3.5" material="" position="3.131465181045514 0.4832128432520735 -1.2448526872742196"
                  rotation="0 130 0" scale="0.2 0.2 0.2" src="#bag" width="7">
                  <a-animation attribute="rotation" delay="750" dur="1000" from="0 180 0" to="0 150 0"></a-animation>

            </a-curvedimage>


            <a-curvedimage id="laptop" geometry="thetaLength:18" height=".8" material="" position="0 0.23207230048166194 0" radius="5.7"
                  rotation="0 130 0" scale="0.4 0.4 0.4" src="#laptop" theta-length="18">
                  <a-animation attribute="rotation" delay="750" dur="1000" from="0 180 0" to="0 130 0"></a-animation>
            </a-curvedimage>

            <a-curvedimage id="table" geometry="thetaLength:20" height=".8" material="" position="-0.4853070328004234 0.2004656275895988 -1.12598872329911"
                  radius="5.7" rotation="0 130 0" scale="0.8 0.8 0.4" src="#table" theta-length="18">
                  <a-animation attribute="rotation" delay="750" dur="1000" from="0 180 0" to="0 130 0"></a-animation>
            </a-curvedimage> -->

            <!-- <a-entity id="title" position="" geometry="primitive: plane;" material="color: black; opacity: 0.6"
                  text__appname="color: yellow; align: center; font: exo2bold; wrap-count: 12; z-offset: 0.01; baseline: bottom;
                value: Table" text__cityname="color: white; align: center; font: exo2semibold; wrap-count: 24; z-offset: 0.01; baseline: top;
                value: #Laptop"></a-entity> -->



            <a-light color="#fff" intensity="0.2" light="" position="-1 2 1" type="directional"></a-light>
            <a-light color="#fff" light="" type="ambient"></a-light>
            <a-entity camera look-controls  position="0 0 1">
                   <a-entity cursor="fuse: true; fuse-timeout: 2000" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                        material="color: #E65F0D; shader: flat">
                        <a-animation begin="fusing" end="mouseleave" easing="ease-out" attribute="scale" fill="backwards" from="1 1 1" to="0.2 0.2 0.2"
                              dur="2000"></a-animation>
                  </a-entity>
            </a-entity>
      </a-scene>
      <script>
            AFRAME.registerComponent('listener', {
                           tick: function () {
                               console.log(this.el.getAttribute('position'));
                                             }
            });
            
             AFRAME.registerComponent('add-to-basket', {
                  schema: {
                         },
                  init: function () {
                        var data = this.data;
                      
                        this.el.addEventListener('mouseenter', function (evt) {
                             debugger;
                              
                              let id = this.getAttribute('id');
                              
                            
                          });
                  }
            });
            
            
            AFRAME.registerComponent('add-to-ar', {
                  schema: {
                         },
                  init: function () {
                        var data = this.data;
                      
                        this.el.addEventListener('mouseenter', function (evt) {
                             debugger;
                                 let id = this.getAttribute('id');
                                location.href="arsample.html?item=" + id;
                             
                          });
                  }
            });
            
            
            
            
            AFRAME.registerComponent('scale-on-mouseenter', {
                  schema: {
                        to: {
                              default: '2.5 2.5 2.5'
                        }
                  },
                  init: function () {
                        var data = this.data;
                      
                        this.el.addEventListener('mouseenter', function (evt) {
                              debugger;
                              
                              let id = this.getAttribute('id');
                              let tst= document.getElementById('textVal');
                              let rotation = this.getAttribute('rotation');
                              evt.detail.intersection.point.y = evt.detail.intersection.point.y + 2;
                              document.getElementById("sound").play();
                              tst.setAttribute('position', evt.detail.intersection.point);
                             if(!tst.getAttribute('visible')){
                                 tst.setAttribute('visible', true);
                              }
                              switch (id) {
                                    case 'table':
                                          debugger;
                                          tst.setAttribute('text__appname',{value:'Laptop Desk'});
                                          tst.setAttribute('text__cityname',{value:'100$'});
                                          break;
                                    case 'laptop':
                                          tst.setAttribute('text__appname',{value:'Thosiba'});
                                          tst.setAttribute('text__cityname',{value:'700$'});
                                          break;
                                    case 'bag':
                                          tst.setAttribute('text__appname',{value:'Amazon Basics'});
                                          tst.setAttribute('text__cityname',{value:'70$'});
                                          break;
                                    case 'keyboard':
                                          tst.setAttribute('text__appname',{value:'Dell'});
                                          tst.setAttribute('text__cityname',{value:'50$'});
                                          break;
                                    default:
                                          
                              };
                           

                            
                        });
                  }
            });
      </script>


</body>

</html>
